<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Lab wiki of the SYNC lab based at Erasmus University Rotterdam, the Netherlands">
    <meta name="author" content="SYNC lab">
    <link rel="canonical" href="https://sourcefoundry.org/cinder/open-science/open-code.html">
    <link rel="shortcut icon" href="../img/favicon.ico">

    
    <title>Reproducible code - SYNC lab wiki</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../css/base.min.css" rel="stylesheet">
    <link href="../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            <a class="navbar-brand" href="..">SYNC lab wiki</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../index.html">Home</a>
</li>

                        
                            
<li >
    <a href="../about/intro-sync.html">The SYNC lab</a>
</li>

                        
                            
<li >
    <a href="../about/code-of-conduct.html">Code of conduct</a>
</li>

                        
                            
<li >
    <a href="../about/contribute.html">How to contribute</a>
</li>

                        
                            
<li >
    <a href="../about/collab-tools.html">Collaboration tools</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Agenda <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../agenda/labmeetings.html">Labmeetings</a>
</li>

                        
                            
<li >
    <a href="../agenda/holidays.html">Holidays</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Open Science <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="stempelkaart.html">Open Science stempelkaart</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Open access publishing</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="open-access-info.html">About open access</a>
</li>

        
            
<li >
    <a href="open-access-how.html">How to</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Data sharing</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="gdpr.html">The GDPR</a>
</li>

        
            
<li >
    <a href="pub-packages.html">Publication packages</a>
</li>

        
            
<li >
    <a href="data-sharing-how.html">How to</a>
</li>

        
            
<li >
    <a href="neurovault.html">NeuroVault</a>
</li>

        
            
<li >
    <a href="dsa-template.html">Data sharing agreement</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Reproducibility</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="fair-software.html">FAIR software</a>
</li>

        
            
<li class="active">
    <a href="open-code.html">Reproducible code</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Transparency</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="preregistration.html">Preregistration</a>
</li>

        
            
<li >
    <a href="transparency-checklists.html">Open project checklists</a>
</li>

        
            
<li >
    <a href="osf.html">Open Science Framework</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Inclusivity</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="inclusivity-goals.html">Our goals for inclusive science</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="oscr.html">Open Science Community Rotterdam</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Data management <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../data-management/data-security.html">Data security protocol</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Research Drive</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../data-management/research-drive-info.html">About Research Drive</a>
</li>

        
            
<li >
    <a href="../data-management/research-drive-how.html">How to</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../data-management/folder-structure.html">File organization</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Version control</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../data-management/vc-principles.html">Basic principles</a>
</li>

        
            
<li >
    <a href="../data-management/vc-github.html">Git(hub)</a>
</li>

        
            
<li >
    <a href="../data-management/vc-datalad.html">Version control for data</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Metadata</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../data-management/FAIR.html">FAIR data</a>
</li>

        
            
<li >
    <a href="../data-management/types-metadata.html">Types of metadata</a>
</li>

        
            
<li >
    <a href="../data-management/dmp-dpia-info.html">DMP and DPIA</a>
</li>

        
            
<li >
    <a href="../data-management/codebooks.html">Codebooks</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Outreach <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../reaching-out/scicom.html">Science communication</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting started at the EUR <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../getting-started-eur/welcome-eur.html">Intro to the EUR!</a>
</li>

                        
                            
<li >
    <a href="../getting-started-eur/time-registration.html">Time registration</a>
</li>

                        
                            
<li >
    <a href="../getting-started-eur/finances.html">Finances</a>
</li>

                        
                            
<li >
    <a href="../getting-started-eur/email-signature.html">Email signature</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="fair-software.html">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="preregistration.html">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/eur-synclab/sync-wiki/edit/master/docs/open-science/open-code.md"><i class="fab fa-github"></i> Edit on GitHub</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#sharing-analysis-code">Sharing analysis code</a></li>
            <li class="second-level"><a href="#how-do-tools-like-r-markdown-and-jupyter-notebooks-make-research-more-reproducible">How do tools like R Markdown and Jupyter notebooks make research more reproducible?</a></li>
                
            <li class="second-level"><a href="#r-markdown">R Markdown</a></li>
                
                <li class="third-level"><a href="#installing-r-markdown">Installing R Markdown</a></li>
                <li class="third-level"><a href="#reference-lists-using-zotero-in-r-markdown">Reference lists using Zotero in R Markdown</a></li>
            <li class="second-level"><a href="#jupyter-notebooks">Jupyter notebooks</a></li>
                
                <li class="third-level"><a href="#installing-jupyter-notebooks">Installing Jupyter notebooks</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="sharing-analysis-code">Sharing analysis code</h1>
<p><em>“An article about computational science in a scientific publication is </em><em>not</em><em> the scholarship itself, it is merely </em><em>advertising</em><em> of the scholarship. The actual scholarship is the complete software development environment and the complete set of instructions which generated the figures.”</em> - Buckheit &amp; Donoho, 1995 (read the full article <a href="http://statweb.stanford.edu/~wavelab/Wavelab_850/wavelab.pdf">here</a>) </p>
<p>This quote nicely summarizes the importance of sharing data, methods and code so that others can evaluate the actual work that was done in a research paper. Luckily, web-based technologies make it very easy to share these materials (and even to share the complete software environment using <a href="https://www.docker.com/">Docker</a> and <a href="https://sylabs.io/singularity/">Singularity</a> containers). However, just releasing your code without annotation is not very informative because others (and future you!) can't make a lot of sense of it. Two helpful tools to annotate your code are RMarkdown and Jupyter notebooks.  </p>
<h4 id="how-do-tools-like-r-markdown-and-jupyter-notebooks-make-research-more-reproducible">How do tools like R Markdown and Jupyter notebooks make research more reproducible?</h4>
<ul>
<li>R Markdown files and Jupyter notebooks contain 1) the code that others need to reproduce your work along with 2) the narration that a reader needs to understand your work</li>
<li>R and Python code can be run within these documents, meaning that in principle others can check whether your work is reproducible </li>
</ul>
<h2 id="r-markdown">R Markdown</h2>
<p>Especially when you do your data analysis in R / RStudio, R Markdown is a very useful tool to put your text and analysis together in one place. It is basically R + Markdown (a markup language to format text). It can be used to write a whole paper, including code to generate figures. This code can be outputted in many formats such as html, pdf and Word. For full documentation see also the <a href="https://rmarkdown.rstudio.com/index.html">R Markdown documentation</a> and this neat <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/rmarkdown-2.0.pdf">cheatsheet (pdf)</a>.</p>
<p style="text-align:center"><figure style="text-align:center"><img src="https://d33wubrfki0l68.cloudfront.net/44f781299f23419d5314e5322e7c44393f7190d3/c5915/images/markdownchunk.png" alt="RMarkdown example" width="500" /><figcaption style="text-align:center">Example of RMarkdown chunk in RStudio with associated html output (from RMarkdown docs)</figcaption></figure></p>

<h4 id="installing-r-markdown">Installing R Markdown</h4>
<ul>
<li>have R and <a href="https://rstudio.com/products/rstudio/download/">RStudio</a> installed (avalaible for free)</li>
<li>install R Markdown <code>install.packages("rmarkdown")</code></li>
</ul>
<h3 id="reference-lists-using-zotero-in-r-markdown">Reference lists using Zotero in R Markdown</h3>
<p>When writing papers, it is also very useful to connect RStudio with Zotero.<br />
<a href="https://zotero.org/">Zotero</a> is a free and open source reference manager with a very handy <a href="https://www.zotero.org/download/connectors">browser plugin</a>. If you have never used a reference manager before: it is a great way to keep a library of all your literature (including pdf's) together and will help you to cite papers in the right way and produce automatic reference lists in the right format for you. This can be done in a word processor like Microsoft Word, but also in R Markdown.  </p>
<h4 id="the-basic-steps-you-need-to-make-this-work">The basic steps you need to make this work:</h4>
<ol>
<li>install <a href="https://zotero.org/">Zotero</a> and import references (e.g., using the browser plugin)  </li>
<li>install the <a href="https://retorque.re/zotero-better-bibtex/">Better BibTex plugin for Zotero</a> by clicking <strong>Tools &gt; Add-ons</strong> within Zotero and follow <a href="https://retorque.re/zotero-better-bibtex/installation/">these instructions</a>  </li>
<li>install the <a href="https://github.com/crsh/citr">citr R package</a>  </li>
</ol>
<h4 id="now-when-writing-text-in-an-rmarkdown-file-in-rstudio">Now when writing text in an RMarkdown file in RStudio:</h4>
<ul>
<li>within RStudio in the toolbar click <strong>Addins &gt; Insert citations</strong>  </li>
<li>here you can search through your references and select the ones you want to enter</li>
<li>you should also edit the YAML header (the upper part of the Rmd file with title, author, output et cetera): here the bibtex file (eg: <code>bibliography: references.bib</code>) should be listed;  </li>
<li>if you also add <code># References</code> at the end of the main text, your bibliography will be created automatically there  </li>
<li>the format of the bibliography can be defined by pointing to a csl file in the YAML header (e.g, <code>csl: ./apa.csl</code>). All csl (citation style language) files can be downloaded from the internet, see also https://citationstyles.org/</li>
</ul>
<h2 id="jupyter-notebooks">Jupyter notebooks</h2>
<p>For analyses that are conducted using Python, Jupyter notebooks are a great way to keep executable code and annotation in one place (note that many other programming languages are also supported by Jupyter notebooks: the name is reference to the 3 core languages Julia, Python, and R). For full documentation see the <a href="https://jupyter-notebook.readthedocs.io/en/latest/">Jupyter Notebook docs</a> and <a href="https://jupyter.org/">https://jupyter.org/</a> for more information about the larger Project Jupyter ecosystem.  </p>
<p>When opening a Jupyter Notebook, you are opening an interactive session. Here you can add different sort of cells: <em>code cells</em> that can be executed (after execution the results will be displayed in the notebook), and <em>Markdown cells</em> that can be used to add descriptive text that can be marked up using the Markdown language.</p>
<p style="text-align:center"><figure style="text-align:center"><img src="/img/Qoala_notebook4.gif" alt="example notebook" width="600" /><figcaption style="text-align:center">Example GIF of a Jupyter notebook for the Qoala-T tool. See notebook <a href="https://github.com/Qoala-T/QC/blob/master/Notebooks/Qoala-T_Notebook.ipynb">here</a> </figcaption></figure></p>

<h4 id="installing-jupyter-notebooks">Installing Jupyter notebooks</h4>
<ul>
<li>you might want to try Jupyter online first, which can be done <a href="https://jupyter.org/try">here</a></li>
<li>If you want to install Jupyter notebooks, instructions for the different ways to install it can be found <a href="https://jupyter.readthedocs.io/en/latest/install/notebook-classic.html">here</a></li>
<li>Python is a requirement for installation, and the recommended way to install both Python and Jupyter notebooks is to install <a href="https://www.anaconda.com/products/individual">Anaconda</a> (available for free)</li>
<li>Once anaconda is installed you can launch Jupyter Notebooks from the Anaconda Navigator or by typing <code>jupyter notebook</code>in the command line</li>
</ul></div>
        
        
    </div>

    <footer class="col-md-12 text-center">
        
        <hr>
        <p>
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
        </p>

        
        
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/yaml.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = ".."</script>
    
    <script src="../js/base.js"></script>
    <script src="../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
